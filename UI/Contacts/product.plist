{ /* -*-javascript-*- */
  requires = ( MAIN, MainUI, CommonUI, Contacts );

  publicResources = ();

  factories = {};

  categories = {
     SOGoContactFolders = {
        methods = {
           view = {
              protectedBy = "View";
              pageName    = "UIxContactFoldersView";
           };
           new = {
              protectedBy = "View";
              pageName    = "UIxContactFoldersView";
              actionName  = "new";
           };
           mailer-contacts = {
              protectedBy = "View";
              pageName    = "UIxContactFoldersView";
              actionName  = "selectForMailer";
           };
           contactSearch = {
              protectedBy = "<public>";
              pageName    = "UIxContactFoldersView";
              actionName  = "contactSearch";
           };
           updateAdditionalAddressBooks = {
              protectedBy = "View";
              pageName    = "UIxContactFoldersView";
              actionName = "updateAdditionalAddressBooks";
           };
           acls = {
              protectedBy = "ReadAcls";
              pageName    = "UIxAclEditor";
           };
           saveAcls = {
              protectedBy = "SaveAcls";
              pageName    = "UIxAclEditor";
              actionName  = "saveAcls";
           };
           checkRights = {
              protectedBy = "View";
              pageName    = "UIxContactFoldersView"; 
              actionName  = "checkRights";
           };
	   userFolders = {
              protectedBy = "View";
              pageName    = "UIxContactsUserFolders"; 
	   };
           dragHandlesState = {
              protectedBy = "<public>";
              pageName    = "UIxContactFoldersView";
              actionName  = "getDragHandlesState";
           };
	   saveDragHandleState = {
      	      protectedBy = "View";
      	      pageName    = "UIxContactFoldersView";
      	      actionName  = "saveDragHandleState";
      	   };
        };
     };

/* both following class should be "reparented" so as to only have
   SOGoContactFolder here... */
     SOGoContactGCSFolder = {
        slots = {
           toolbar = {
              protectedBy = "View";
              value = "SOGoContactFolder.toolbar";
           };
        };
        methods = {
           view = {
              protectedBy = "View";
              pageName    = "UIxContactsListView";
           };
           newcontact = {
              protectedBy = "Add Documents, Images, and Files";
              pageName    = "UIxContactEditor";
              actionName  = "new";
           };
           newlist = {
              protectedBy = "Add Documents, Images, and Files";
              pageName    = "UIxListEditor";
              actionName  = "new";
           };
           mailer-contacts = {
              protectedBy = "View";
              pageName    = "UIxContactsListView";
              actionName  = "mailerContacts";
           };
	   userRights = {
	      protectedBy = "ReadAcls";
	      pageName    = "UIxContactsUserRightsEditor";
	   };
	   saveUserRights = {
	      protectedBy = "SaveAcls";
	      pageName    = "UIxContactsUserRightsEditor";
	      actionName  = "saveUserRights";
	   };
        };
     };

     SOGoContactLDAPFolder = {
        slots = {
           toolbar = {
              protectedBy = "View";
              value = "SOGoContactFolder.toolbar";
           };
        };
        methods = {
           view = {
	      protectedBy = "<public>";
              pageName    = "UIxContactsListView";
           };
           new = {
	      protectedBy = "<public>";
              pageName    = "UIxContactEditor";
              actionName  = "new";
           };
           mailer-contacts = {
	      protectedBy = "<public>";
              pageName    = "UIxContactsListView";
              actionName = "mailerContacts";
           };
	   canAccessContent = {
	      protectedBy = "<public>";
	      actionClass = "UIxFolderActions";
	      actionName = "canAccessContent";
	   };
        };
     };

     SOGoContactGCSEntry = {
        methods = {
           view = {
              protectedBy = "Access Contents Information";
              pageName    = "UIxContactView";
           };
           delete = {
              protectedBy = "Delete Objects";
              pageName    = "UIxContactView";
              actionName  = "delete";
           };
           edit = {
              protectedBy = "Access Contents Information";
              pageName    = "UIxContactEditor";
           };
           editAsContact = {
              protectedBy = "Access Contents Information";
              pageName    = "UIxContactEditor";
           };
           save = {
              protectedBy = "Change Images And Files";
              pageName    = "UIxContactEditor";
              actionName  = "save";
           };
           saveAsContact = {
              protectedBy = "Change Images And Files";
              pageName    = "UIxContactEditor";
              actionName  = "save";
           };
           write = {
              protectedBy = "View";
              pageName    = "UIxContactEditor";
              actionName  = "write";
           };
        };
     };

     SOGoContactGCSList = {
        methods = {
           view = {
              protectedBy = "Access Contents Information";
              pageName    = "UIxListView";
           };
           delete = {
              protectedBy = "Delete Objects";
              pageName    = "UIxListView";
              actionName  = "delete";
           };
           edit = {
              protectedBy = "Access Contents Information";
              pageName    = "UIxListEditor";
           };
           editAsList = {
              protectedBy = "Access Contents Information";
              pageName    = "UIxListEditor";
           };
           save = {
              protectedBy = "Change Images And Files";
              pageName    = "UIxListEditor";
              actionName  = "save";
           };
           saveAsList = {
              protectedBy = "Change Images And Files";
              pageName    = "UIxListEditor";
              actionName  = "save";
           };
        };
     };

     SOGoContactLDIFEntry = {
        methods = {
           view = {
	      protectedBy = "<public>";
              pageName    = "UIxContactView";
           };
           edit = {
              protectedBy = "<public>";
              pageName    = "UIxContactEditor";
           };
           write = {
              protectedBy = "<public>";
              pageName    = "UIxContactEditor";
              actionName  = "write";
           };
        };
     };
  };
}
